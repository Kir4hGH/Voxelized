# Voxelized
 Resource Pack to voxel-like changer

# How it works

1. **Ввод пользователя**:
   - Пользователь указывает путь до папки с ресурспаком.
   - Пользователь выбирает режим работы программы (все ванильные блоки + рп(полный)/блоки ресурспака, изменённые блоки/текстуры), а также аддоны (кирпичи и т.п.)

2. **Инициализация**:
   - Программа создаёт объект voxelizer, который хранит все необходимые пути (`input_folder`, `output_folder`, `textures_folder`, `models_folder`).
   - Программа проверяет структуру ресурспака (наличие папок `assets/minecraft/textures/block` и `assets/minecraft/models/block`).

3. **Process**:
   - Программа создаёт выходную папку для вокселизированного ресурспака с аналогичной структурой.
   - Программа получает список JSON-моделей блоков из папки `models/block`.
   - Для каждого блока:
     - Проверяет, поддерживается ли его тип (`cube`, `cube_all`, `cube_column` и т.д.).
     - Если тип поддерживается, начинается процесс вокселизации.

4. **Вокселизация блока**:
   - **Открытие JSON-модели**:
     - Программа читает JSON-файл блока, проверяет на целостность и извлекает данные (`parent`, `textures`, `elements` и т.д.).
   - **Определение типа блока**:
     - `BlockProcessor` определяет тип блока на основе поля `parent` и других параметров (например, наличие `elements`).
   - **Создание объекта блока**:
     - `BlockProcessor` создаёт объект блока с нужным типом (`SimpleBlock`, `ComplexBlock`) и передаёт в него данные (тип, пути до текстур и т.д.).
   - **Вокселизация текстур**:
     - Вокселизатор получает объект блока и данные о его сторонах.
     - Для каждой стороны:
       - Открываются файлы текстуры (+ проверка на наличие, иначе из ваниллы).
       - Применяется эффект вокселизации для всех сторон с учётом типа блока.
   - **Сохранение изменений**:
     - Текстуры вокселизированного блока (или изменённые) сохраняются в выходной ресурспак.
     - В копию JSON-модели записываются новые пути до изменённых текстур.

5. **Завершение**:
   - Программа завершает обработку всех блоков.
   - Пользователь получает готовый вокселизированный ресурспак в указанной выходной папке.

---

### **Что можно улучшить или уточнить**

1. **Обработка ошибок**:
   - Добавьте обработку ошибок для случаев, когда:
     - JSON-файл повреждён или отсутствует.
     - Текстура отсутствует или имеет неподдерживаемый формат.
     - Выходная папка недоступна для записи.

2. **Логирование**:
   - Добавьте логирование (например, с помощью модуля `logging`), чтобы отслеживать процесс вокселизации и выявлять ошибки.

3. **Поддержка сложных моделей**:
   - Убедитесь, что программа корректно обрабатывает блоки с несколькими кубами (например, лестницы, двери). Для этого нужно:
     - Извлекать данные из `elements` в JSON-модели.
     - Обрабатывать каждую текстуру для каждого куба.

4. **Оптимизация**:
   - Если текстур много, можно добавить многопоточность для ускорения обработки.
   - Используйте кэширование для повторного использования уже обработанных текстур.

5. **Пользовательский интерфейс**:
   - Если программа будет использоваться не только разработчиками, добавьте простой графический интерфейс (например, с помощью `tkinter`) для выбора папки и отображения прогресса.